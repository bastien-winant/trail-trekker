test_core_plans_model:
  model: core.plans
  inputs:
    stg.plans:
      rows:
        - plan_id: "PLN003M"
          plan_name: "Trail Master"
          plan_level: 3
          price: 3.99
          max_hikes_per_month: 100
          photo_storage_gb: 50
          description: "This is a plan description"
          created_at: 2021-08-10

        - plan_id: "PLN003A"
          plan_name: "Trail Master"
          plan_level: 3
          price: 39.99
          max_hikes_per_month: 100
          photo_storage_gb: 50
          description: "This is a plan description"
          created_at: 2021-08-10

        - plan_id: "PLN004M"
          plan_name: "Adventurer"
          plan_level: 2
          price: 2.99
          max_hikes_per_month: 50
          photo_storage_gb: 80
          description: "This is a plan description"
          created_at: 2021-05-20

        - plan_id: "PLN004A"
          plan_name: "Adventurer"
          plan_level: 2
          price: 29.99
          max_hikes_per_month: 50
          photo_storage_gb: 80
          description: "This is a plan description"
          created_at: 2021-05-20

        - plan_id: "PLN004X"
          plan_name: "Adventurer"
          plan_level: 2
          price: 29.99
          max_hikes_per_month: 50
          photo_storage_gb: 80
          description: "Invalid plan"
          created_at: 2021-05-20

  outputs:
    query:
      rows:
        - id: "PLN003"
          name: "Trail Master"
          level: 3
          description: "This is a plan description"
          monthly_price_usd_cents: 399
          yearly_price_usd_cents: 3999
          max_hikes_per_month: 100
          photo_storage_gb: 50

        - id: "PLN004"
          name: "Adventurer"
          level: 2
          description: "This is a plan description"
          monthly_price_usd_cents: 299
          yearly_price_usd_cents: 2999
          max_hikes_per_month: 50
          photo_storage_gb: 80